(ns hoplon.index-test
  (:use
    [clojure.test]
    [clj-webdriver.taxi]
    [test-util.fixtures :as fixtures]))

(use-fixtures :each fixtures/selenium-driver!)

(deftest first-test
  (is (= "hello world" (text (element "h1")))))

(deftest all-html
  "All HTML tags can be output by Hoplon"
  ; https://developer.mozilla.org/en-US/docs/Web/HTML/Element
  ; http://www.html-5-tutorial.com/all-html-tags.htm
  ; http://www.w3schools.com/tags/
  (doseq [tag [
                "html"
                "body"
                "head"
                "a"
                "a[href=\"http://hoplon.io/\"]"
                "abbr"
                "abbr[title=\"Cascading Style Sheet\"]"
                "acronym"
                "acronym[title=\"as soon as possible\"]"
                "address"
                "applet"
                "applet[code=\"Bubbles.class\"][width=\"350\"][height=\"350\"]"
                "area"
                "area[shape=\"rect\"][coords=\"0,0,100,100\"][href=\"http://hoplon.io\"][alt=\"click me\"]"
                "article"
                "aside"
                "audio"
                "audio[controls]"
                "b"
                "base"
                "base[href=\"http://hoplon.io/images/\"]"
                "basefont"
                "bdi"
                "bdo"
                "bdo[dir=\"rtl\"]"
                "big"
                "blockquote"
                "blockquote[cite=\"http://hoplon.io\"]"
                "br"
                "button"
                "button[type=\"button\"]"
                "canvas"
                "caption"
                "center"
                "cite"
                "code"
                "col"
                "colgroup"
                "command"
                "command[type=\"command\"][label=\"Save\"]"
                "data"
                "datalist"
                "dd"
                "del"
                "details"
                "dfn"
                "dialog"
                "dialog[open]"
                "dir"
                "div"
                "dl"
                "dt"
                "em"
                "embed"
                "embed[src=\"foo.swf\"]"
                "eventsource"
                "fieldset"
                "figcaption"
                "figure"
                "font"
                "footer"
                "form"
                "frame"
                "frameset"
                "h1"
                "h2"
                "h3"
                "h4"
                "h5"
                "h6"
                "header"
                "hgroup"
                "hr"
                "i"
                "iframe[src=\"http://hoplon.io\"]"
                "img"
                "input"
                "input[type=\"text\"]"
                "ins"
                "isindex"
                "isindex[prompt=\"Search Document... \"]"
                "kbd"
                "keygen"
                "keygen[name=\"security\"]"
                "label"
                "label[for=\"some-input\"]"
                "legend"
                "li"
                "link"
                "link[rel=\"stylesheet\"][href=\"main.css\"]"
                "main"
                "map"
                "map[name=\"logomap\"]"
                "mark"
                "menu"
                "menu[type=\"context\"][id=\"mymenu\"]"
                "menuitem"
                "menuitem[label=\"Refresh\"]"
                "meta"
                "meta[charset=\"UTF-8\"]"
                "meter"
                "meter[value=\"2\"][min=\"0\"][max=\"10\"]"
                "nav"
                "noframes"
                "noscript"
                "object"
                "object[width=\"400\"][height=\"400\"][data=\"helloworld.swf\"]"
                "ol"
                "optgroup"
                "optgroup[label=\"Swedish Cars\"]"
                "option"
                "option[value=\"volvo\"]"
                "output"
                "p"
                "param"
                "pre"
                "progress"
                "progress[value=\"22\"][max=\"100\"]"
                "q"
                "rp"
                "rt"
                "rtc"
                "ruby"
                "s"
                "samp"
                "script"
                "section"
                "select"
                "small"
                "source"
                "span"
                "strike"
                "strong"
                "style"
                "sub"
                "summary"
                "sup"
                "table"
                "tbody"
                "td"
                "textarea"
                "tfoot"
                "th"
                "thead"
                "time"
                "title"
                "tr"
                "track"
                "track[src=\"subtitles_no.vtt\"][kind=\"subtitles\"][srclang=\"no\"][label=\"Norwegian\"]"
                "tt"
                "u"
                "ul"
                "var"
                "video"
                "video[width=\"320\"][height=\"240\"][controls]"
                "wbr"]]

    (is (exists? tag))))
